{"id": "192fe98a-3795-4d59-a7d7-fb6d215dab04", "code": "from dataclasses import dataclass\n\n@dataclass\nclass Triple:\n    subject: str\n    predicate: str\n    object: str\n\n# EVOLVE-BLOCK-START\n\ndef predict(triples: list[Triple]) -> str:\n    \"\"\"\n    Generates a natural language sentence from a list of triples.\n    \"\"\"\n    sentence = \"\"\n    subject = \"\"\n    for triple in triples:\n        if not subject:\n            subject = triple.subject\n            sentence += f\"{subject} \"\n        else:\n            sentence += f\", \"  # Add comma for subsequent triples\n\n        if triple.predicate == \"cityServed\":\n            sentence += f\"serves the city of {triple.object}. \"\n        elif triple.predicate == \"elevationAboveTheSeaLevel\":\n            sentence += f\"is at an elevation of {triple.object} meters above sea level. \"\n        elif triple.predicate == \"location\":\n            sentence += f\"is located in {triple.object}. \"\n        elif triple.predicate == \"country\":\n            country = triple.object\n            capital = None\n            for t in triples:\n                if t.subject == country and t.predicate == \"capital\":\n                    capital = t.object\n                    break\n            if capital:\n                sentence += f\"is in {country}, whose capital is {capital}. \"\n            else:\n                sentence += f\"is in {triple.object}. \"\n        elif triple.predicate == \"capital\":\n            sentence += f\"is the capital of {next(t.subject for t in triples if t.predicate == 'country' and t.object == triple.object)}. \"\n        elif triple.predicate == \"iataLocationIdentifier\":\n            sentence += f\"has an IATA identifier of {triple.object}. \"\n        elif triple.predicate == \"icaoLocationIdentifier\":\n            sentence += f\"has an ICAO identifier of {triple.object}. \"\n        elif triple.predicate == \"runwayLength\":\n            runway_name = next((t.object for t in triples if t.predicate == \"runwayName\" and t.subject == triple.subject), None)\n            if runway_name:\n                sentence += f\"The runway {runway_name} at {subject} is {triple.object} meters long. \"\n            else:\n                sentence += f\"The runway at {subject} is {triple.object} meters long. \"\n        elif triple.predicate == \"runwayName\":\n            runway_length = next((t.object for t in triples if t.predicate == \"runwayLength\" and t.subject == triple.subject), None)\n            if runway_length:\n                sentence += f\"Runway {triple.object} at {subject} is {runway_length} meters long. \"\n            else:\n                sentence += f\"{subject} has a runway named {triple.object}. \"\n        elif triple.predicate == \"1stRunwayLengthFeet\":\n            runway_surface = next((t.object for t in triples if t.predicate == \"1stRunwaySurfaceType\" and t.subject == triple.subject), None)\n            if runway_surface:\n                sentence += f\"The first runway is {triple.object} feet long with a surface of {runway_surface}. \"\n            else:\n                sentence += f\"The first runway is {triple.object} feet long. \"\n        elif triple.predicate == \"1stRunwaySurfaceType\":\n            runway_length = next((t.object for t in triples if t.predicate == \"1stRunwayLengthFeet\" and t.subject == triple.subject), None)\n            if runway_length:\n                sentence += f\"The first runway has a surface of {triple.object} and is {runway_length} feet long. \"\n            else:\n                sentence += f\"The first runway has a surface of {triple.object}. \"\n        elif triple.predicate == \"3rdRunwayLengthFeet\":\n            sentence += f\"has a third runway length of {triple.object} feet. \"\n        elif triple.predicate == \"3rdRunwaySurfaceType\":\n            sentence += f\"The third runway is made of {triple.object}. \"\n        elif triple.predicate == \"1stRunwayNumber\":\n            sentence += f\"has a runway number of {triple.object}. \"\n        else:\n            if triple.predicate == \"isPartOf\":\n                sentence += f\"is part of {triple.object}. \"\n            elif triple.predicate == \"language\":\n                sentence += f\"speaks {triple.object}. \"\n            elif triple.predicate == \"operatingOrganisation\":\n                sentence += f\"is operated by {triple.object}. \"\n            else:\n                sentence += f\"and has a {triple.predicate} of {triple.object}. \"\n\n    return sentence.strip()\n\n# EVOLVE-BLOCK-END", "language": "python", "parent_id": "707282ba-b53f-45b6-ae12-a171a16e1a7e", "generation": 16, "timestamp": 1768417116.4381042, "iteration_found": 563, "metrics": {"combined_score": 0.46005363040067493}, "complexity": 0.0, "diversity": 0.0, "metadata": {"changes": "Change 1: Replace 13 lines with 12 lines", "parent_metrics": {"combined_score": 0.4670826829919123}, "island": 0}, "prompts": {"diff_user": {"system": "You are an expert in fixing your collegues code. You know that the code should be in format:\n<<<<<<< SEARCH\n# Original code to find and replace (must match exactly, indentations and endlines as well)\n=======\n# New replacement code\n>>>>>>> REPLACE\nProvided the incorrect format of SEARCH/REPLACE fix it to a correct format.\n        ", "user": "An incorrect diff format was detected in this change:\nHere's an improvement focusing on handling multiple runway details more gracefully and combining information when available. The goal is to create more complex and natural sentences.\n\n```diff\n<<<<<<< SEARCH\n        elif triple.predicate == \"1stRunwayLengthFeet\":\n            runway_surface = next((t.object for t in triples if t.predicate == \"1stRunwaySurfaceType\" and t.subject == triple.subject), None)\n            if runway_surface:\n                sentence += f\"The first runway is {triple.object} feet long and made of {runway_surface}. \"\n            else:\n                sentence += f\"has a first runway length of {triple.object} feet. \"\n        elif triple.predicate == \"1stRunwaySurfaceType\":\n            # Combine with runway length if available\n            runway_length = next((t.object for t in triples if t.predicate == \"1stRunwayLengthFeet\" and t.subject == triple.subject), None)\n            if runway_length:\n                sentence += f\"The first runway is made of {triple.object} and is {runway_length} feet long. \"\n            else:\n                sentence += f\"The first runway is made of {triple.object}. \"\n>>>>>>> REPLACE\n        elif triple.predicate == \"1stRunwayLengthFeet\":\n            runway_surface = next((t.object for t in triples if t.predicate == \"1stRunwaySurfaceType\" and t.subject == triple.subject), None)\n            if runway_surface:\n                sentence += f\"The first runway is {triple.object} feet long with a surface of {runway_surface}. \"\n            else:\n                sentence += f\"The first runway is {triple.object} feet long. \"\n        elif triple.predicate == \"1stRunwaySurfaceType\":\n            runway_length = next((t.object for t in triples if t.predicate == \"1stRunwayLengthFeet\" and t.subject == triple.subject), None)\n            if runway_length:\n                sentence += f\"The first runway has a surface of {triple.object} and is {runway_length} feet long. \"\n            else:\n                sentence += f\"The first runway has a surface of {triple.object}. \"\n```\nPlease fix it to the correct format.", "responses": ["```diff\n<<<<<<< SEARCH\n        elif triple.predicate == \"1stRunwayLengthFeet\":\n            runway_surface = next((t.object for t in triples if t.predicate == \"1stRunwaySurfaceType\" and t.subject == triple.subject), None)\n            if runway_surface:\n                sentence += f\"The first runway is {triple.object} feet long and made of {runway_surface}. \"\n            else:\n                sentence += f\"has a first runway length of {triple.object} feet. \"\n        elif triple.predicate == \"1stRunwaySurfaceType\":\n            # Combine with runway length if available\n            runway_length = next((t.object for t in triples if t.predicate == \"1stRunwayLengthFeet\" and t.subject == triple.subject), None)\n            if runway_length:\n                sentence += f\"The first runway is made of {triple.object} and is {runway_length} feet long. \"\n            else:\n                sentence += f\"The first runway is made of {triple.object}. \"\n=======\n        elif triple.predicate == \"1stRunwayLengthFeet\":\n            runway_surface = next((t.object for t in triples if t.predicate == \"1stRunwaySurfaceType\" and t.subject == triple.subject), None)\n            if runway_surface:\n                sentence += f\"The first runway is {triple.object} feet long with a surface of {runway_surface}. \"\n            else:\n                sentence += f\"The first runway is {triple.object} feet long. \"\n        elif triple.predicate == \"1stRunwaySurfaceType\":\n            runway_length = next((t.object for t in triples if t.predicate == \"1stRunwayLengthFeet\" and t.subject == triple.subject), None)\n            if runway_length:\n                sentence += f\"The first runway has a surface of {triple.object} and is {runway_length} feet long. \"\n            else:\n                sentence += f\"The first runway has a surface of {triple.object}. \"\n>>>>>>> REPLACE\n```"]}}, "artifacts_json": "{\"poor_program_score_0\": \"The program did very poorly with BLEU score 0.0. The input triples were:\\nAarhus Airport | runwayName | \\\"10L/28R\\\"\\nThe generated text was:\\nAarhus Airport Aarhus Airport has a runway named \\\"10L/28R\\\".\\nThe example correct sentences are:\\nAarhus Airport runway name is 10L/28R.\\n10L/28R is the runway name of the Aarhus Airport.\\nThe runway name of Aarhus Airport is 10L/28R.\\n\", \"poor_program_score_1\": \"The program did very poorly with BLEU score 0.0. The input triples were:\\nAbilene Regional Airport | 1stRunwayLengthFeet | 3678\\nThe generated text was:\\nAbilene Regional Airport The first runway is 3678 feet long.\\nThe example correct sentences are:\\nThe length of the 1st runway at Abilene Regional airport is 3678 feet.\\n\", \"poor_program_score_2\": \"The program did very poorly with BLEU score 0.0. The input triples were:\\nAbilene Regional Airport | 1stRunwaySurfaceType | Asphalt\\nThe generated text was:\\nAbilene Regional Airport The first runway has a surface of Asphalt.\\nThe example correct sentences are:\\nThe first runway at Abilene Regional Airport is made from asphalt.\\nThe 1st runway at Abilene Regional Airport is made of Asphalt.\\n\", \"poor_program_score_3\": \"The program did very poorly with BLEU score 0.0. The input triples were:\\nAbilene Regional Airport | 3rdRunwayLengthFeet | 7202\\nThe generated text was:\\nAbilene Regional Airport has a third runway length of 7202 feet.\\nThe example correct sentences are:\\nThe third runway at Abilene Regional Airport is 7,202 feet long.\\nThe 3rd runway at Abilene Regional airport is 7202 feet.\\nThe Abilene Regional Airport's 3rd runway length is ft is 7202.\\n\", \"poor_program_score_4\": \"The program did very poorly with BLEU score 0.0. The input triples were:\\nAbilene Regional Airport | icaoLocationIdentifier | \\\"KABI\\\"\\nThe generated text was:\\nAbilene Regional Airport has an ICAO identifier of \\\"KABI\\\".\\nThe example correct sentences are:\\nAbilene Regional Airport ICAO Location Identifier is KABI.\\nKABI is the ICAO location identifier of Abilene Regional Airport.\\nThe ICAO Location Identifier of Abilene Regional Airport is KABI.\\n\", \"poor_program_score_5\": \"The program did very poorly with BLEU score 0.0. The input triples were:\\nAbilene Regional Airport | runwayName | \\\"17R/35L\\\"\\nThe generated text was:\\nAbilene Regional Airport Abilene Regional Airport has a runway named \\\"17R/35L\\\".\\nThe example correct sentences are:\\n17R/35L is the runway name at Abilene Regional airport.\\nThe name of the runway at Abilene Regional Airport is 17R/35L.\\nThe runway name of Abilene Regional Airport is 17R/35L.\\n\", \"poor_program_score_6\": \"The program did very poorly with BLEU score 0.0. The input triples were:\\nAdirondack Regional Airport | 1stRunwayLengthFeet | 6573\\nThe generated text was:\\nAdirondack Regional Airport The first runway is 6573 feet long.\\nThe example correct sentences are:\\nThe length of the first runway at Adirondack Regional Airport is 6,573 feet.\\n6573 feet is the length of the first runway at Adirondack Regional Airport.\\nThe 1st runway length in feet of Adirondack Regional Airport is 6573.\\n\", \"poor_program_score_7\": \"The program did very poorly with BLEU score 0.0. The input triples were:\\nAdirondack Regional Airport | locationIdentifier | \\\"SLK\\\"\\nThe generated text was:\\nAdirondack Regional Airport and has a locationIdentifier of \\\"SLK\\\".\\nThe example correct sentences are:\\nAdirondack Regional Airport location identifier is SLK.\\nSLK is the I.D. of the Adirondack Regional Airport.\\nThe Adirondack Regional Airport location identifier is SLK.\\n\", \"poor_program_score_8\": \"The program did very poorly with BLEU score 0.0. The input triples were:\\nAdolfo Su\\u00e1rez Madrid\\u2013Barajas Airport | runwayName | \\\"18R/36L\\\"\\nThe generated text was:\\nAdolfo Su\\u00e1rez Madrid\\u2013Barajas Airport Adolfo Su\\u00e1rez Madrid\\u2013Barajas Airport has a runway named \\\"18R/36L\\\".\\nThe example correct sentences are:\\n18R/36L is the runway name of the Adolfo Su\\u00e1rez Madrid-Barajas Airport.\\n\", \"poor_program_score_9\": \"The program did very poorly with BLEU score 0.0. The input triples were:\\nAgra Airport | iataLocationIdentifier | \\\"AGR\\\"\\nThe generated text was:\\nAgra Airport has an IATA identifier of \\\"AGR\\\".\\nThe example correct sentences are:\\nAgra Airport IATA Location Identifier is AGR.\\nAGR is the IATA I.D. of the Agra Airport.\\nAGR is the ATA Location Identifier for Agra Airport.\\n\", \"poor_program_score_10\": \"The program did very poorly with BLEU score 0.0. The input triples were:\\nAgra Airport | runwayLength | 2743.0\\nThe generated text was:\\nAgra Airport The runway at Agra Airport is 2743.0 meters long.\\nThe example correct sentences are:\\nAgra Airport's runway length is 2743.0.\\n\", \"poor_program_score_11\": \"The program did very poorly with BLEU score 0.0. The input triples were:\\nAl-Taqaddum Air Base | locationIdentifier | \\\"MAT\\\"\\nThe generated text was:\\nAl-Taqaddum Air Base and has a locationIdentifier of \\\"MAT\\\".\\nThe example correct sentences are:\\nThe location identifier for Al-Taqaddum air base is MAT.\\nThe location identifier of Al Taqaddum Air Base is MAT.\\n\", \"poor_program_score_12\": \"The program did very poorly with BLEU score 0.0. The input triples were:\\nAl Asad Airbase | icaoLocationIdentifier | \\\"ORAA\\\"\\nThe generated text was:\\nAl Asad Airbase has an ICAO identifier of \\\"ORAA\\\".\\nThe example correct sentences are:\\nORAA is the ICAO location identifier of Al Asad Airbase.\\nThe ICAO Location Identifier of Al Asad Airbase is ORAA.\\n\", \"poor_program_score_13\": \"The program did very poorly with BLEU score 0.0. The input triples were:\\nAl Asad Airbase | elevationAboveTheSeaLevelInFeet | 618\\nThe generated text was:\\nAl Asad Airbase and has a elevationAboveTheSeaLevelInFeet of 618.\\nThe example correct sentences are:\\nAl Asad Airbase is 618 feet above sea level.\\nThe Al Asad Airbase is 618 ft above sea level.\\nAl Asad Airbase has an elevation above the sea level (in feet) of 618.\\n\", \"poor_program_score_14\": \"The program did very poorly with BLEU score 0.0. The input triples were:\\nAl Asad Airbase | runwayName | \\\"08/26\\\"\\nThe generated text was:\\nAl Asad Airbase Al Asad Airbase has a runway named \\\"08/26\\\".\\nThe example correct sentences are:\\n''08/26'' is the runway name at Al Asad Airbase.\\n08/26 is the runway name of the Al Asad Airbase.\\nThe runway name of Al Asad Airbase is 08/26.\\n\"}", "artifact_dir": null, "embedding": null}