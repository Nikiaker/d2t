{"id": "7cd24c8c-57a1-4e83-a7a6-d541ca7ea31b", "code": "from dataclasses import dataclass\n\n@dataclass\nclass Triple:\n    subject: str\n    predicate: str\n    object: str\n\n# EVOLVE-BLOCK-START\n\ndef predict(triples: list[Triple]) -> str:\n    if not triples:\n        return \"\"\n\n    # Group related facts by subject to create longer, more coherent sentences\n    from collections import defaultdict\n    subject_facts = defaultdict(list)\n\n    for triple in triples:\n        subject_facts[triple.subject].append((triple.predicate, triple.object))\n\n    sentences = []\n    for subject, facts in subject_facts.items():\n        # Organize facts by semantic categories for better flow\n        birth_info = []\n        career_info = []\n        origin_info = []\n        music_info = []\n        other_info = []\n\n        for pred, obj in facts:\n            if pred in (\"birthDate\", \"birthPlace\", \"birthYear\"):\n                birth_info.append((pred, obj))\n            elif pred in (\"activeYearsStartYear\", \"activeYearsEndYear\"):\n                career_info.append((pred, obj))\n            elif pred in (\"origin\", \"nationality\", \"country\", \"isPartOf\"):\n                origin_info.append((pred, obj))\n            elif pred in (\"genre\", \"musicSubgenre\", \"musicFusionGenre\", \"stylisticOrigin\", \"associatedBand/associatedMusicalArtist\"):\n                music_info.append((pred, obj))\n            else:\n                other_info.append((pred, obj))\n\n        # Build sentence components with improved logic and grammar\n        parts = []\n\n        # Handle birth information\n        if birth_info:\n            birth_parts = []\n            birth_date = None\n            birth_place = None\n            birth_year = None\n            for pred, obj in birth_info:\n                if pred == \"birthDate\":\n                    birth_date = obj\n                elif pred == \"birthPlace\":\n                    birth_place = obj\n                elif pred == \"birthYear\":\n                    birth_year = obj\n\n            # Prioritize birthDate if available, otherwise use birthYear or birthPlace\n            if birth_date:\n                birth_parts.append(f\"born on {birth_date}\")\n            elif birth_year:\n                birth_parts.append(f\"born in {birth_year}\")\n            if birth_place:\n                birth_parts.append(f\"born in {birth_place}\")\n\n            if birth_parts:\n                parts.append(\" \".join(birth_parts))\n\n        # Handle career information\n        if career_info:\n            start_year = None\n            end_year = None\n            for pred, obj in career_info:\n                if pred == \"activeYearsStartYear\":\n                    start_year = obj\n                elif pred == \"activeYearsEndYear\":\n                    end_year = obj\n\n            if start_year and end_year:\n                parts.append(f\"active from {start_year} to {end_year}\")\n            elif start_year:\n                parts.append(f\"active from {start_year}\")\n            elif end_year:\n                parts.append(f\"active until {end_year}\")\n\n        # Handle origin information\n        if origin_info:\n            origin_parts = []\n            for pred, obj in origin_info:\n                if pred == \"origin\":\n                    origin_parts.append(f\"from {obj}\")\n                elif pred == \"nationality\":\n                    origin_parts.append(f\"of {obj} nationality\")\n                elif pred == \"country\":\n                    origin_parts.append(f\"in {obj}\")\n                elif pred == \"isPartOf\":\n                    origin_parts.append(f\"part of {obj}\")\n            if origin_parts:\n                parts.append(\" \".join(origin_parts))\n\n        # Handle music information\n        if music_info:\n            music_parts = []\n            for pred, obj in music_info:\n                if pred == \"genre\":\n                    music_parts.append(f\"playing {obj}\")\n                elif pred == \"musicSubgenre\":\n                    music_parts.append(f\"a {obj} subgenre\")\n                elif pred == \"musicFusionGenre\":\n                    music_parts.append(f\"fusing {obj}\")\n                elif pred == \"stylisticOrigin\":\n                    music_parts.append(f\"originating from {obj}\")\n                elif pred == \"associatedBand/associatedMusicalArtist\":\n                    music_parts.append(f\"associated with {obj}\")\n            if music_parts:\n                parts.append(\" \".join(music_parts))\n\n        # Handle other information\n        if other_info:\n            other_parts = []\n            for pred, obj in other_info:\n                if pred == \"occupation\":\n                    other_parts.append(f\"working as {obj}\")\n                elif pred == \"recordLabel\":\n                    other_parts.append(f\"signed to {obj}\")\n                elif pred == \"instrument\":\n                    other_parts.append(f\"playing {obj}\")\n                elif pred == \"deathPlace\":\n                    other_parts.append(f\"died in {obj}\")\n                elif pred == \"deathDate\":\n                    other_parts.append(f\"died on {obj}\")\n                elif pred == \"alternativeName\":\n                    other_parts.append(f\"also known as {obj}\")\n                elif pred == \"training\":\n                    other_parts.append(f\"trained at {obj}\")\n                elif pred == \"language\":\n                    other_parts.append(f\"speaks {obj}\")\n                elif pred == \"officialLanguage\":\n                    other_parts.append(f\"has {obj} as official language\")\n                else:\n                    other_parts.append(f\"known for {obj}\")\n            if other_parts:\n                parts.append(\" \".join(other_parts))\n\n        # Combine all parts into a single sentence with better conjunctions\n        if parts:\n            sentence = f\"{subject} {' and '.join(parts)}.\"\n            sentences.append(sentence)\n        else:\n            sentences.append(f\"{subject}.\")\n\n    # Join sentences with proper punctuation and flow\n    if len(sentences) == 1:\n        return sentences[0]\n    elif len(sentences) == 2:\n        return \" and \".join(sentences)\n    elif len(sentences) == 3:\n        return \", \".join(sentences[:-1]) + \", and \" + sentences[-1]\n    else:\n        return \" \".join(sentences)\n\n# EVOLVE-BLOCK-END", "language": "python", "parent_id": "85a56bed-f741-431a-aa2a-430171545473", "generation": 5, "timestamp": 1770107284.5094116, "iteration_found": 764, "metrics": {"combined_score": 0.0, "error": "'NoneType' object is not iterable"}, "complexity": 0.0, "diversity": 0.0, "metadata": {"changes": "Change 1: Replace 12 lines with 24 lines", "parent_metrics": {"combined_score": 0.0, "error": "'NoneType' object is not iterable"}, "island": 1}, "prompts": null, "artifacts_json": null, "artifact_dir": null, "embedding": null}