{"id": "12bb120b-11a0-44cb-b40c-9bd543904f03", "code": "from dataclasses import dataclass\n\n@dataclass\nclass Triple:\n    subject: str\n    predicate: str\n    object: str\n\n# EVOLVE-BLOCK-START\n\ndef predict(triples: list[Triple]) -> str:\n    if not triples:\n        return \"\"\n\n    # Group facts by subject to create more coherent, natural-sounding sentences\n    from collections import defaultdict\n    subject_facts = defaultdict(list)\n\n    for triple in triples:\n        subject_facts[triple.subject].append((triple.predicate, triple.object))\n\n    sentences = []\n    for subject, facts in subject_facts.items():\n        # Categorize facts for better sentence flow\n        birth_info = []\n        career_info = []\n        origin_info = []\n        music_info = []\n        other_info = []\n\n        for pred, obj in facts:\n            if pred in (\"birthDate\", \"birthPlace\", \"birthYear\"):\n                birth_info.append((pred, obj))\n            elif pred in (\"activeYearsStartYear\", \"activeYearsEndYear\"):\n                career_info.append((pred, obj))\n            elif pred in (\"origin\", \"nationality\", \"country\", \"isPartOf\"):\n                origin_info.append(obj)\n            elif pred in (\"genre\", \"musicSubgenre\", \"musicFusionGenre\", \"stylisticOrigin\", \"associatedBand/associatedMusicalArtist\"):\n                music_info.append(obj)\n            elif pred in (\"instrument\", \"background\", \"occupation\", \"professionalField\", \"training\"):\n                other_info.append(obj)\n            else:\n                other_info.append(obj)\n\n        # Build natural language components with improved flow and grammar\n        parts = []\n        if birth_info:\n            # Handle birthDate and birthPlace together\n            birth_date = next((obj for pred, obj in birth_info if pred == \"birthDate\"), None)\n            birth_place = next((obj for pred, obj in birth_info if pred == \"birthPlace\"), None)\n            birth_year = next((obj for pred, obj in birth_info if pred == \"birthYear\"), None)\n\n            if birth_date and birth_place:\n                parts.append(f\"born on {birth_date} in {birth_place}\")\n            elif birth_date:\n                parts.append(f\"born on {birth_date}\")\n            elif birth_place:\n                parts.append(f\"born in {birth_place}\")\n            elif birth_year:\n                parts.append(f\"born in {birth_year}\")\n\n        if career_info:\n            start_year = next((obj for pred, obj in career_info if pred == \"activeYearsStartYear\"), None)\n            end_year = next((obj for pred, obj in career_info if pred == \"activeYearsEndYear\"), None)\n\n            if start_year and end_year:\n                parts.append(f\"active from {start_year} to {end_year}\")\n            elif start_year:\n                parts.append(f\"active since {start_year}\")\n\n        if origin_info:\n            origin_str = \", \".join(origin_info)\n            parts.append(f\"from {origin_str}\")\n\n        if music_info:\n            music_str = \", \".join(music_info)\n            parts.append(f\"performing {music_str} music\")\n\n        if other_info:\n            other_str = \", \".join(other_info)\n            parts.append(f\"also known for {other_str}\")\n\n        # Combine all parts into a single sentence with better conjunctions\n        if len(parts) == 1:\n            sentence = f\"{subject} {parts[0]}.\"\n        else:\n            sentence = f\"{subject} {', '.join(parts[:-1])} and {parts[-1]}.\"\n        sentences.append(sentence)\n\n    # Use a more sophisticated sentence joining strategy to improve fluency and reduce redundancy\n    if len(sentences) == 1:\n        return sentences[0]\n    elif len(sentences) == 2:\n        return \" and \".join(sentences)\n    elif len(sentences) == 3:\n        return \", \".join(sentences[:-1]) + \", and \" + sentences[-1]\n    else:\n        return \", \".join(sentences)\n\n# EVOLVE-BLOCK-END", "language": "python", "parent_id": "cee82351-f58d-4df0-9dbf-68d2ba000a5f", "generation": 8, "timestamp": 1770109057.271176, "iteration_found": 817, "metrics": {"combined_score": 0.0, "error": "'NoneType' object is not iterable"}, "complexity": 0.0, "diversity": 0.0, "metadata": {"changes": "Change 1: Replace 75 lines with 84 lines", "parent_metrics": {"combined_score": 0.0, "error": "'NoneType' object is not iterable"}, "island": 1}, "prompts": null, "artifacts_json": null, "artifact_dir": null, "embedding": null}