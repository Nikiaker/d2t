{"id": "4e7bb17b-4ea3-466a-87fe-3430c2575fff", "code": "from dataclasses import dataclass\n\n@dataclass\nclass Triple:\n    subject: str\n    predicate: str\n    object: str\n\n# EVOLVE-BLOCK-START\n\ndef predict(triples: list[Triple]) -> str:\n    if not triples:\n        return \"\"\n\n    # Group triples by subject to create more coherent, subject-focused sentences\n    from collections import defaultdict\n    subject_facts = defaultdict(list)\n\n    for triple in triples:\n        subject_facts[triple.subject].append((triple.predicate, triple.object))\n\n    sentences = []\n    for subject, facts in subject_facts.items():\n        # Categorize facts for better sentence structure\n        birth_facts = []\n        career_facts = []\n        origin_facts = []\n        music_facts = []\n        other_facts = []\n\n        for pred, obj in facts:\n            if pred in (\"birthDate\", \"birthPlace\", \"birthYear\"):\n                birth_facts.append(obj)\n            elif pred in (\"activeYearsStartYear\", \"activeYearsEndYear\"):\n                career_facts.append(obj)\n            elif pred in (\"origin\", \"nationality\", \"country\", \"isPartOf\"):\n                origin_facts.append(obj)\n            elif pred in (\"genre\", \"musicSubgenre\", \"musicFusionGenre\", \"stylisticOrigin\", \"associatedBand/associatedMusicalArtist\"):\n                music_facts.append(obj)\n            else:\n                other_facts.append(obj)\n\n        # Build natural language components\n        components = []\n\n        # Birth info\n        if birth_facts:\n            birth_parts = []\n            for pred, obj in facts:\n                if pred == \"birthDate\":\n                    birth_parts.append(f\"born on {obj}\")\n                elif pred == \"birthYear\":\n                    birth_parts.append(f\"born in {obj}\")\n                elif pred == \"birthPlace\":\n                    birth_parts.append(f\"born in {obj}\")\n            components.append(\" \".join(birth_parts))\n\n        # Career info\n        if career_facts:\n            start_year = next((obj for pred, obj in facts if pred == \"activeYearsStartYear\"), \"\")\n            end_year = next((obj for pred, obj in facts if pred == \"activeYearsEndYear\"), \"\")\n            career_str = f\"active from {start_year}\"\n            if end_year:\n                career_str += f\" to {end_year}\"\n            components.append(career_str)\n\n        # Origin info\n        if origin_facts:\n            origin_parts = []\n            for pred, obj in facts:\n                if pred == \"origin\":\n                    origin_parts.append(f\"from {obj}\")\n                elif pred == \"nationality\":\n                    origin_parts.append(f\"from {obj}\")\n                elif pred == \"country\":\n                    origin_parts.append(f\"located in {obj}\")\n                elif pred == \"isPartOf\":\n                    origin_parts.append(f\"part of {obj}\")\n            components.append(\" \".join(origin_parts))\n\n        # Music info\n        if music_facts:\n            music_parts = []\n            for pred, obj in facts:\n                if pred == \"genre\":\n                    music_parts.append(f\"{obj} music\")\n                elif pred == \"musicSubgenre\":\n                    music_parts.append(f\"subgenre {obj}\")\n                elif pred == \"musicFusionGenre\":\n                    music_parts.append(f\"fusion genre {obj}\")\n                elif pred == \"stylisticOrigin\":\n                    music_parts.append(f\"originating from {obj}\")\n                elif pred == \"associatedBand/associatedMusicalArtist\":\n                    music_parts.append(f\"associated with {obj}\")\n            music_str = \", \".join(music_parts)\n            components.append(f\"performing {music_str}\")\n\n        # Other info\n        if other_facts:\n            other_parts = []\n            for pred, obj in facts:\n                if pred == \"occupation\":\n                    other_parts.append(f\"a {obj}\")\n                elif pred == \"recordLabel\":\n                    other_parts.append(f\"signed to {obj}\")\n                elif pred == \"alternativeName\":\n                    other_parts.append(f\"also known as {obj}\")\n                elif pred == \"deathPlace\":\n                    other_parts.append(f\"died in {obj}\")\n                elif pred == \"deathDate\":\n                    other_parts.append(f\"died on {obj}\")\n                elif pred == \"professionalField\":\n                    other_parts.append(f\"working in {obj}\")\n                elif pred == \"training\":\n                    other_parts.append(f\"trained at {obj}\")\n                elif pred == \"populationDensity\":\n                    other_parts.append(f\"with a population density of {obj}\")\n                elif pred == \"meaning\":\n                    other_parts.append(f\"meaning {obj}\")\n                elif pred == \"longName\":\n                    other_parts.append(f\"also known as {obj}\")\n                elif pred == \"areaTotal\":\n                    other_parts.append(f\"with an area of {obj}\")\n                elif pred == \"foundingDate\":\n                    other_parts.append(f\"formed on {obj}\")\n                elif pred == \"elevationAboveTheSeaLevel\":\n                    other_parts.append(f\"elevated {obj} above sea level\")\n                elif pred == \"postalCode\":\n                    other_parts.append(f\"having postal codes {obj}\")\n                else:\n                    other_parts.append(f\"{obj}\")\n            components.append(\" \".join(other_parts))\n\n        # Construct final sentence for this subject\n        sentence = f\"{subject} {' and '.join(components)}.\"\n        sentences.append(sentence)\n\n    # Join all subject sentences into one coherent text\n    return \" \".join(sentences)\n\n# EVOLVE-BLOCK-END", "language": "python", "parent_id": "d829dfda-2e98-4162-befa-5c7b3b5f78cf", "generation": 6, "timestamp": 1770105858.4307704, "iteration_found": 721, "metrics": {"combined_score": 0.0, "error": "'NoneType' object is not iterable"}, "complexity": 0.0, "diversity": 0.0, "metadata": {"changes": "Change 1: Replace 31 lines with 87 lines", "parent_metrics": {"combined_score": 0.0, "error": "'NoneType' object is not iterable"}, "island": 1}, "prompts": null, "artifacts_json": null, "artifact_dir": null, "embedding": null}