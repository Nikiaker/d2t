{"id": "d8ac0b9f-a368-48c7-8e46-23d32b42939c", "code": "from dataclasses import dataclass\n\n@dataclass\nclass Triple:\n    subject: str\n    predicate: str\n    object: str\n\n# EVOLVE-BLOCK-START\n\ndef predict(triples: list[Triple]) -> str:\n    if not triples:\n        return \"\"\n\n    # Group triples by subject to create more coherent, subject-focused sentences\n    from collections import defaultdict\n    subject_facts = defaultdict(list)\n\n    for triple in triples:\n        subject_facts[triple.subject].append((triple.predicate, triple.object))\n\n    sentences = []\n    for subject, facts in subject_facts.items():\n        # Categorize facts for better sentence structure\n        birth_facts = []\n        career_facts = []\n        origin_facts = []\n        music_facts = []\n        other_facts = []\n\n        for pred, obj in facts:\n            if pred in (\"birthDate\", \"birthPlace\", \"birthYear\"):\n                birth_facts.append(obj)\n            elif pred in (\"activeYearsStartYear\", \"activeYearsEndYear\"):\n                career_facts.append(obj)\n            elif pred in (\"origin\", \"nationality\", \"country\", \"isPartOf\"):\n                origin_facts.append(obj)\n            elif pred in (\"genre\", \"musicSubgenre\", \"musicFusionGenre\", \"stylisticOrigin\", \"associatedBand/associatedMusicalArtist\"):\n                music_facts.append(obj)\n            else:\n                other_facts.append(obj)\n\n        # Build natural language components\n        components = []\n\n        # Birth info\n        if birth_facts:\n            birth_parts = []\n            for pred, obj in facts:\n                if pred == \"birthDate\":\n                    birth_parts.append(f\"born on {obj}\")\n                elif pred == \"birthPlace\":\n                    birth_parts.append(f\"born in {obj}\")\n                elif pred == \"birthYear\":\n                    birth_parts.append(f\"born in {obj}\")\n            components.append(\" and \".join(birth_parts))\n\n        # Career info\n        if career_facts:\n            start_year = next((obj for pred, obj in facts if pred == \"activeYearsStartYear\"), \"\")\n            end_year = next((obj for pred, obj in facts if pred == \"activeYearsEndYear\"), \"\")\n            career_str = f\"active from {start_year}\"\n            if end_year:\n                career_str += f\" to {end_year}\"\n            components.append(career_str)\n\n        # Origin info\n        if origin_facts:\n            origin_parts = []\n            for pred, obj in facts:\n                if pred in (\"origin\", \"nationality\", \"country\"):\n                    origin_parts.append(obj)\n                elif pred == \"isPartOf\":\n                    origin_parts.append(f\"{obj}\")\n            origin_str = \", \".join(origin_parts)\n            components.append(f\"from {origin_str}\")\n\n        # Music info\n        if music_facts:\n            music_parts = []\n            for pred, obj in facts:\n                if pred == \"genre\":\n                    music_parts.append(f\"{obj}\")\n                elif pred == \"musicSubgenre\":\n                    music_parts.append(f\"{obj} music\")\n                elif pred == \"musicFusionGenre\":\n                    music_parts.append(f\"fusion of {obj}\")\n                elif pred == \"stylisticOrigin\":\n                    music_parts.append(f\"originating from {obj}\")\n                elif pred == \"associatedBand/associatedMusicalArtist\":\n                    music_parts.append(f\"associated with {obj}\")\n            music_str = \", \".join(music_parts)\n            components.append(f\"performing {music_str}\")\n\n        # Other info\n        if other_facts:\n            other_parts = []\n            for pred, obj in facts:\n                if pred == \"occupation\":\n                    other_parts.append(f\"a {obj}\")\n                elif pred == \"recordLabel\":\n                    other_parts.append(f\"signed to {obj}\")\n                elif pred == \"alternativeName\":\n                    other_parts.append(f\"also known as {obj}\")\n                elif pred == \"deathPlace\":\n                    other_parts.append(f\"died in {obj}\")\n                elif pred == \"deathDate\":\n                    other_parts.append(f\"died on {obj}\")\n                elif pred == \"professionalField\":\n                    other_parts.append(f\"working in {obj}\")\n                elif pred == \"background\":\n                    other_parts.append(f\"as a {obj}\")\n                elif pred == \"instrument\":\n                    other_parts.append(f\"playing the {obj}\")\n                elif pred == \"training\":\n                    other_parts.append(f\"trained at {obj}\")\n                elif pred == \"distributingCompany\":\n                    other_parts.append(f\"distributed by {obj}\")\n                elif pred == \"governingBody\":\n                    other_parts.append(f\"governed by {obj}\")\n                elif pred == \"leader\":\n                    other_parts.append(f\"led by {obj}\")\n                elif pred == \"leaderTitle\":\n                    other_parts.append(f\"with leader title {obj}\")\n                elif pred == \"country\":\n                    other_parts.append(f\"located in {obj}\")\n                elif pred == \"ethnicGroup\":\n                    other_parts.append(f\"ethnic group of {obj}\")\n                elif pred == \"parentCompany\":\n                    other_parts.append(f\"subsidiary of {obj}\")\n                elif pred == \"bandMember\":\n                    other_parts.append(f\"band member of {obj}\")\n                elif pred == \"capital\":\n                    other_parts.append(f\"capital is {obj}\")\n                elif pred == \"anthem\":\n                    other_parts.append(f\"has anthem {obj}\")\n                elif pred == \"currency\":\n                    other_parts.append(f\"uses {obj} as currency\")\n                elif pred == \"demonym\":\n                    other_parts.append(f\"called {obj}\")\n                elif pred == \"isPartOf\":\n                    other_parts.append(f\"part of {obj}\")\n                elif pred == \"populationDensity\":\n                    other_parts.append(f\"has population density of {obj}\")\n                elif pred == \"meaning\":\n                    other_parts.append(f\"means {obj}\")\n                elif pred == \"longName\":\n                    other_parts.append(f\"long name is {obj}\")\n                elif pred == \"areaTotal\":\n                    other_parts.append(f\"has area of {obj}\")\n                elif pred == \"foundingDate\":\n                    other_parts.append(f\"was founded on {obj}\")\n                elif pred == \"elevationAboveTheSeaLevel\":\n                    other_parts.append(f\"elevation is {obj} above sea level\")\n                elif pred == \"postalCode\":\n                    other_parts.append(f\"has postal codes {obj}\")\n                elif pred == \"language\":\n                    other_parts.append(f\"language spoken is {obj}\")\n                elif pred == \"officialLanguage\":\n                    other_parts.append(f\"official language is {obj}\")\n                elif pred == \"derivative\":\n                    other_parts.append(f\"derives from {obj}\")\n                elif pred == \"location\":\n                    other_parts.append(f\"located in {obj}\")\n            other_str = \", \".join(other_parts)\n            components.append(f\"also known for {other_str}\")\n\n        # Construct final sentence for this subject\n        sentence = f\"{subject} {' and '.join(components)}.\"\n        sentences.append(sentence)\n\n    # Join all subject sentences into one coherent text\n    return \" \".join(sentences)\n\n# EVOLVE-BLOCK-END", "language": "python", "parent_id": "d829dfda-2e98-4162-befa-5c7b3b5f78cf", "generation": 6, "timestamp": 1770104620.698434, "iteration_found": 681, "metrics": {"combined_score": 0.0, "error": "'NoneType' object is not iterable"}, "complexity": 0.0, "diversity": 0.0, "metadata": {"changes": "Change 1: Replace 31 lines with 121 lines", "parent_metrics": {"combined_score": 0.0, "error": "'NoneType' object is not iterable"}, "island": 1}, "prompts": null, "artifacts_json": null, "artifact_dir": null, "embedding": null}