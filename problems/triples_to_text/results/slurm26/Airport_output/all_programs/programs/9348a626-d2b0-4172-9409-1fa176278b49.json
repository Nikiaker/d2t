{"id": "9348a626-d2b0-4172-9409-1fa176278b49", "code": "from dataclasses import dataclass\n\n@dataclass\nclass Triple:\n    subject: str\n    predicate: str\n    object: str\n\n# EVOLVE-BLOCK-START\n\ndef predict(triples: list[Triple]) -> str:\n    # Group triples by subject to build coherent, subject-focused sentences\n    # Group triples by subject and build contextually coherent, natural-sounding sentences\n    subject_groups = {}\n    for triple in triples:\n        subject_groups.setdefault(triple.subject, []).append(triple)\n\n    sentences = []\n    for subject, triples in subject_groups.items():\n        # Extract and organize relevant information\n        info = {\n            \"cityServed\": None,\n            \"country\": None,\n            \"capital\": None,\n            \"elevation_meters\": None,\n            \"elevation_feet\": None,\n            \"location\": None,\n            \"operatingOrganisation\": None,\n            \"runwayLength\": None,\n            \"runwayName\": None,\n            \"isPartOf\": None,\n            \"1stRunwayLengthFeet\": None,\n            \"1stRunwaySurfaceType\": None,\n            \"3rdRunwayLengthFeet\": None,\n            \"icaoLocationIdentifier\": None,\n            \"locationIdentifier\": None,\n            \"iataLocationIdentifier\": None,\n            \"nativeName\": None,\n            \"owner\": None,\n            \"1stRunwayLengthMetre\": None,\n            \"4thRunwaySurfaceType\": None,\n            \"largestCity\": None,\n            \"4thRunwayLengthFeet\": None,\n            \"elevationAboveTheSeaLevelInMetres\": None,\n            \"administrativeArrondissement\": None,\n            \"officialLanguage\": None,\n            \"regionServed\": None,\n        }\n\n        for triple in triples:\n            if triple.predicate in info:\n                info[triple.predicate] = triple.object\n\n        # Build a coherent sentence using available information\n        parts = []\n\n        # Handle city served\n        if info[\"cityServed\"]:\n            parts.append(f\"serves the city of {info['cityServed']}\")\n        if info[\"country\"]:\n            parts.append(f\"located in {info['country']}\")\n        if info[\"capital\"]:\n            parts.append(f\"the capital is {info['capital']}\")\n        if info[\"elevation_meters\"] or info[\"elevation_feet\"]:\n            elevation = \"\"\n            if info[\"elevation_meters\"]:\n                elevation += f\"{info['elevation_meters']} meters\"\n            if info[\"elevation_feet\"]:\n                if elevation:\n                    elevation += \" or \"\n                elevation += f\"{info['elevation_feet']} feet\"\n            parts.append(f\"has an elevation of {elevation} above sea level\")\n        if info[\"location\"]:\n            parts.append(f\"located in {info['location']}\")\n        if info[\"operatingOrganisation\"]:\n            parts.append(f\"operated by {info['operatingOrganisation']}\")\n        if info[\"runwayLength\"]:\n            parts.append(f\"runway length of {info['runwayLength']} meters\")\n        if info[\"runwayName\"]:\n            parts.append(f\"runway name is {info['runwayName']}\")\n        if info[\"isPartOf\"]:\n            parts.append(f\"part of {info['isPartOf']}\")\n        if info[\"1stRunwayLengthFeet\"]:\n            parts.append(f\"first runway is {info['1stRunwayLengthFeet']} feet long\")\n        if info[\"1stRunwaySurfaceType\"]:\n            parts.append(f\"first runway surface type is {info['1stRunwaySurfaceType']}\")\n        if info[\"3rdRunwayLengthFeet\"]:\n            parts.append(f\"third runway is {info['3rdRunwayLengthFeet']} feet long\")\n        if info[\"icaoLocationIdentifier\"]:\n            parts.append(f\"ICAO location identifier is {info['icaoLocationIdentifier']}\")\n        if info[\"locationIdentifier\"]:\n            parts.append(f\"location identifier is {info['locationIdentifier']}\")\n        if info[\"iataLocationIdentifier\"]:\n            parts.append(f\"IATA location identifier is {info['iataLocationIdentifier']}\")\n        if info[\"nativeName\"]:\n            parts.append(f\"also known as {info['nativeName']}\")\n        if info[\"owner\"]:\n            parts.append(f\"owned by {info['owner']}\")\n        if info[\"1stRunwayLengthMetre\"]:\n            parts.append(f\"first runway is {info['1stRunwayLengthMetre']} meters long\")\n        if info[\"4thRunwaySurfaceType\"]:\n            parts.append(f\"fourth runway surface type is {info['4thRunwaySurfaceType']}\")\n        if info[\"largestCity\"]:\n            parts.append(f\"largest city is {info['largestCity']}\")\n        if info[\"4thRunwayLengthFeet\"]:\n            parts.append(f\"fourth runway is {info['4thRunwayLengthFeet']} feet long\")\n        if info[\"administrativeArrondissement\"]:\n            parts.append(f\"in the {info['administrativeArrondissement']}\")\n        if info[\"officialLanguage\"]:\n            parts.append(f\"official language is {info['officialLanguage']}\")\n        if info[\"regionServed\"]:\n            parts.append(f\"serves the region of {info['regionServed']}\")\n\n        # Build sentence with proper structure and grammar\n        if parts:\n            sentence = f\"{subject}\"\n            if len(parts) == 1:\n                sentence += f\" {parts[0]}.\"\n            else:\n                sentence += f\" \" + \", \".join(parts) + \".\"\n            sentences.append(sentence)\n\n    return \" \".join(sentences)\n\n# EVOLVE-BLOCK-END", "language": "python", "parent_id": "00eec344-b9b1-4b67-b5c6-d150c4818269", "generation": 3, "timestamp": 1770109232.3345218, "iteration_found": 748, "metrics": {"combined_score": 0.0, "error": "'NoneType' object is not iterable"}, "complexity": 0.0, "diversity": 0.0, "metadata": {"changes": "Change 1: Replace 75 lines with 111 lines", "parent_metrics": {"combined_score": 0.0, "error": "'NoneType' object is not iterable"}, "island": 1}, "prompts": null, "artifacts_json": null, "artifact_dir": null, "embedding": null}