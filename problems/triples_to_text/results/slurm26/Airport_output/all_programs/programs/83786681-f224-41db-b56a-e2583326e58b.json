{"id": "83786681-f224-41db-b56a-e2583326e58b", "code": "from dataclasses import dataclass\n\n@dataclass\nclass Triple:\n    subject: str\n    predicate: str\n    object: str\n\n# EVOLVE-BLOCK-START\n\ndef predict(triples: list[Triple]) -> str:\n    sentence = \"\"\n    subject = \"\"\n    for triple in triples:\n        if triple.predicate == \"cityServed\":\n            sentence += f\"{triple.subject} serves the city of {triple.object}. \"\n        elif triple.predicate == \"country\":\n            sentence += f\"{triple.subject} is in {triple.object}. \"\n        elif triple.predicate == \"capital\":\n            sentence += f\"The capital of {triple.subject} is {triple.object}. \"\n        elif triple.predicate == \"elevationAboveTheSeaLevel\":\n            sentence += f\"{triple.subject} has an elevation of {triple.object} meters above sea level. \"\n        elif triple.predicate == \"location\":\n            sentence += f\"{triple.subject} is located in {triple.object}. \"\n        elif triple.predicate == \"operatingOrganisation\":\n            sentence += f\"{triple.subject} is operated by {triple.object}. \"\n        elif triple.predicate == \"runwayLength\":\n            sentence += f\"The runway length of {triple.subject} is {triple.object} meters. \"\n        elif triple.predicate == \"runwayName\":\n            sentence += f\"The runway name of {triple.subject} is {triple.object}. \"\n        elif triple.predicate == \"isPartOf\":\n            sentence += f\"{triple.subject} is part of {triple.object}. \"\n        elif triple.predicate == \"1stRunwayLengthFeet\":\n            sentence += f\"The first runway of {triple.subject} is {triple.object} feet long. \"\n        elif triple.predicate == \"1stRunwaySurfaceType\":\n            sentence += f\"The first runway surface type of {triple.subject} is {triple.object}. \"\n        elif triple.predicate == \"3rdRunwayLengthFeet\":\n            sentence += f\"The third runway of {triple.subject} is {triple.object} feet long. \"\n        elif triple.predicate == \"icaoLocationIdentifier\":\n            sentence += f\"The ICAO location identifier of {triple.subject} is {triple.object}. \"\n        elif triple.predicate == \"locationIdentifier\":\n            sentence += f\"The location identifier of {triple.subject} is {triple.object}. \"\n        elif triple.predicate == \"elevationAboveTheSeaLevelInFeet\":\n            sentence += f\"{triple.subject} has an elevation of {triple.object} feet above sea level. \"\n        elif triple.predicate == \"iataLocationIdentifier\":\n            sentence += f\"The IATA location identifier of {triple.subject} is {triple.object}. \"\n        elif triple.predicate == \"nativeName\":\n            sentence += f\"{triple.subject} is also known as {triple.object}. \"\n        elif triple.predicate == \"leaderParty\":\n            sentence += f\"{triple.subject} is led by the {triple.object}. \"\n        elif triple.predicate == \"language\":\n            sentence += f\"The official language of {triple.subject} is {triple.object}. \"\n        elif triple.predicate == \"owner\":\n            sentence += f\"{triple.subject} is owned by {triple.object}. \"\n        elif triple.predicate == \"1stRunwayLengthMetre\":\n            sentence += f\"The first runway of {triple.subject} is {triple.object} meters long. \"\n        elif triple.predicate == \"4thRunwaySurfaceType\":\n            sentence += f\"The fourth runway surface type of {triple.subject} is {triple.object}. \"\n        elif triple.predicate == \"largestCity\":\n            sentence += f\"The largest city in {triple.subject} is {triple.object}. \"\n        elif triple.predicate == \"4thRunwayLengthFeet\":\n            sentence += f\"The fourth runway of {triple.subject} is {triple.object} feet long. \"\n        elif triple.predicate == \"elevationAboveTheSeaLevelInMetres\":\n            sentence += f\"{triple.subject} has an elevation of {triple.object} meters above sea level. \"\n        elif triple.predicate == \"administrativeArrondissement\":\n            sentence += f\"{triple.subject} is in the {triple.object}. \"\n        elif triple.predicate == \"officialLanguage\":\n            sentence += f\"The official language of {triple.subject} is {triple.object}. \"\n        elif triple.predicate == \"regionServed\":\n            sentence += f\"{triple.subject} serves the region of {triple.object}. \"\n    def predict(triples: list[Triple]) -> str:\n        # Group triples by subject to build richer, more coherent sentences\n        subject_groups = {}\n        for triple in triples:\n            if triple.subject not in subject_groups:\n                subject_groups[triple.subject] = []\n            subject_groups[triple.subject].append(triple)\n\n        sentences = []\n        for subject, triples in subject_groups.items():\n            parts = []\n            city_served = None\n            elevation_meters = None\n            elevation_feet = None\n            location = None\n            operating_org = None\n            runway_length = None\n            runway_name = None\n            owner = None\n            icao_id = None\n            iata_id = None\n            native_name = None\n            country = None\n            capital = None\n            admin_arrondissement = None\n            official_language = None\n            largest_city = None\n            region_served = None\n\n            for triple in triples:\n                if triple.predicate == \"cityServed\":\n                    city_served = triple.object\n                elif triple.predicate == \"elevationAboveTheSeaLevel\":\n                    elevation_meters = triple.object\n                elif triple.predicate == \"elevationAboveTheSeaLevelInFeet\":\n                    elevation_feet = triple.object\n                elif triple.predicate == \"location\":\n                    location = triple.object\n                elif triple.predicate == \"operatingOrganisation\":\n                    operating_org = triple.object\n                elif triple.predicate == \"runwayLength\":\n                    runway_length = triple.object\n                elif triple.predicate == \"runwayName\":\n                    runway_name = triple.object\n                elif triple.predicate == \"owner\":\n                    owner = triple.object\n                elif triple.predicate == \"icaoLocationIdentifier\":\n                    icao_id = triple.object\n                elif triple.predicate == \"iataLocationIdentifier\":\n                    iata_id = triple.object\n                elif triple.predicate == \"nativeName\":\n                    native_name = triple.object\n                elif triple.predicate == \"country\":\n                    country = triple.object\n                elif triple.predicate == \"capital\":\n                    capital = triple.object\n                elif triple.predicate == \"administrativeArrondissement\":\n                    admin_arrondissement = triple.object\n                elif triple.predicate == \"officialLanguage\":\n                    official_language = triple.object\n                elif triple.predicate == \"largestCity\":\n                    largest_city = triple.object\n                elif triple.predicate == \"regionServed\":\n                    region_served = triple.object\n\n            # Build a coherent sentence for this subject using more natural phrasing and logical flow\n            sentence_parts = []\n\n            # Start with the subject and its primary function\n            if city_served:\n                sentence_parts.append(f\"serves the city of {city_served}\")\n            elif capital:\n                sentence_parts.append(f\"is the capital of {capital}\")\n            elif largest_city:\n                sentence_parts.append(f\"has the largest city {largest_city}\")\n\n            # Add location context\n            if location:\n                sentence_parts.append(f\"located in {location}\")\n            if country:\n                sentence_parts.append(f\"in {country}\")\n            if admin_arrondissement:\n                sentence_parts.append(f\"within the {admin_arrondissement}\")\n\n            # Add elevation\n            if elevation_meters:\n                sentence_parts.append(f\"at an elevation of {elevation_meters} meters above sea level\")\n            elif elevation_feet:\n                sentence_parts.append(f\"at an elevation of {elevation_feet} feet above sea level\")\n\n            # Add operational details\n            if operating_org:\n                sentence_parts.append(f\"operated by {operating_org}\")\n            if owner:\n                sentence_parts.append(f\"owned by {owner}\")\n\n            # Add runway information\n            runway_info = []\n            for i in [1, 2, 3, 4, 5]:\n                length_key = f\"{i}thRunwayLengthFeet\"\n                length_m_key = f\"{i}thRunwayLengthMetre\"\n                surface_key = f\"{i}thRunwaySurfaceType\"\n                number_key = f\"{i}thRunwayNumber\"\n\n                length_feet = None\n                length_metre = None\n                surface = None\n                number = None\n\n                for triple in triples:\n                    if triple.predicate == length_key:\n                        length_feet = triple.object\n                    elif triple.predicate == length_m_key:\n                        length_metre = triple.object\n                    elif triple.predicate == surface_key:\n                        surface = triple.object\n                    elif triple.predicate == number_key:\n                        number = triple.object\n\n                if number or length_feet or length_metre or surface:\n                    parts = []\n                    if number:\n                        parts.append(f\"runway {number}\")\n                    if length_feet:\n                        parts.append(f\"{length_feet} feet long\")\n                    if length_metre:\n                        parts.append(f\"{length_metre} meters long\")\n                    if surface:\n                        parts.append(f\"with a {surface} surface\")\n                    runway_info.append(\" \".join(parts))\n\n            # Consolidate runway info into a single phrase\n            if runway_info:\n                if len(runway_info) == 1:\n                    sentence_parts.append(f\"with {runway_info[0]}\")\n                else:\n                    sentence_parts.append(f\"with runways: {', '.join(runway_info)}\")\n\n            # Add identifiers\n            if icao_id:\n                sentence_parts.append(f\"ICAO ID: {icao_id}\")\n            if iata_id:\n                sentence_parts.append(f\"IATA ID: {iata_id}\")\n            if native_name:\n                sentence_parts.append(f\"also known as {native_name}\")\n\n            # Add language\n            if official_language:\n                sentence_parts.append(f\"where the official language is {official_language}\")\n\n            # Add region served\n            if region_served:\n                sentence_parts.append(f\"serving the region of {region_served}\")\n\n            # Join all parts into a complete sentence\n            if sentence_parts:\n                sentence = f\"{subject} \" + \", \".join(sentence_parts) + \".\"\n                sentences.append(sentence)\n            else:\n                # Fallback for cases where no specific predicates were matched\n                sentences.append(f\"{subject} has no specific attributes defined.\")\n\n        return \" \".join(sentences)\n\n# EVOLVE-BLOCK-END", "language": "python", "parent_id": "da2d397a-9353-46fd-9152-46ad2ad8286c", "generation": 2, "timestamp": 1770111481.0145383, "iteration_found": 814, "metrics": {"combined_score": 0.0, "error": "Invalid return type"}, "complexity": 0.0, "diversity": 0.0, "metadata": {"changes": "Change 1: Replace 3 lines with 163 lines", "parent_metrics": {"combined_score": 0.6109557603550184, "avg_bleu_score": 0.4220392169129272, "avg_meteor_score": 0.7240865295720335, "avg_sentences_length_score": 0.6867415345800947}, "island": 1}, "prompts": null, "artifacts_json": null, "artifact_dir": null, "embedding": null}