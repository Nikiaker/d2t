{"id": "218fee93-caac-4061-80ec-ac4c54bd7117", "code": "from dataclasses import dataclass\n\n@dataclass\nclass Triple:\n    subject: str\n    predicate: str\n    object: str\n\n# EVOLVE-BLOCK-START\n\ndef predict(triples: list[Triple]) -> str:\n    \"\"\"\n    Generates a sentence from a list of triples related to airports.\n    \"\"\"\n    airport = None\n    location_info = []\n    runway_info = []\n    other_info = []\n\n    for triple in triples:\n        subject = triple.subject\n        predicate = triple.predicate\n        object_val = triple.object\n\n        if predicate == \"cityServed\":\n            location_info.append(f\"{subject} serves the city of {object_val}\")\n        elif predicate == \"country\":\n            location_info.append(f\"{subject} is located in {object_val}\")\n        elif predicate == \"elevationAboveTheSeaLevel\":\n            location_info.append(f\"{subject} is {object_val} meters above sea level\")\n        elif predicate == \"elevationAboveTheSeaLevelInFeet\":\n            location_info.append(f\"{subject} is {object_val} feet above sea level\")\n        elif predicate == \"runwayLength\":\n            runway_info.append(f\"{subject} has a runway length of {object_val} meters\")\n        elif predicate == \"iataLocationIdentifier\":\n            location_info.append(f\"{subject} has IATA code {object_val}\")\n        elif predicate == \"location\":\n            location_info.append(f\"{subject} is located in {object_val}\")\n        elif predicate == \"operatingOrganisation\":\n            other_info.append(f\"{subject} is operated by {object_val}\")\n        elif predicate == \"hubAirport\":\n            other_info.append(f\"{subject} is a hub airport for {object_val}\")\n        elif predicate == \"headquarter\":\n            other_info.append(f\"The headquarters of {subject} is in {object_val}\")\n        elif predicate == \"nativeName\":\n            airport = object_val\n        elif predicate == \"runwayName\":\n            runway_info.append(f\"{subject} has a runway named {object_val}\")\n        elif predicate == \"runwaySurfaceType\":\n            runway_info.append(f\"The runway surface of {subject} is {object_val}\")\n        elif predicate == \"isPartOf\":\n            location_info.append(f\"{subject} is part of {object_val}\")\n        elif predicate == \"1stRunwayLengthFeet\":\n            runway_info.append(f\"The first runway of {subject} is {object_val} feet long\")\n        elif predicate == \"1stRunwaySurfaceType\":\n            runway_info.append(f\"The first runway of {subject} is made of {object_val}\")\n        elif predicate == \"1stRunwayNumber\":\n            runway_info.append(f\"The first runway of {subject} is number {object_val}\")\n        elif predicate == \"2ndRunwaySurfaceType\":\n            runway_info.append(f\"The second runway of {subject} is made of {object_val}\")\n        elif predicate == \"3rdRunwaySurfaceType\":\n            runway_info.append(f\"The third runway of {subject} is made of {object_val}\")\n        elif predicate == \"4thRunwaySurfaceType\":\n            runway_info.append(f\"The fourth runway of {subject} is made of {object_val}\")\n        elif predicate == \"5thRunwaySurfaceType\":\n            runway_info.append(f\"The fifth runway of {subject} is made of {object_val}\")\n        else:\n            other_info.append(f\"{subject} {predicate} {object_val}\")\n\n    parts = []\n    if airport:\n        parts.append(f\"{airport}\")\n    if location_info:\n        parts.extend(location_info)\n    if runway_info:\n        parts.extend(runway_info)\n    if other_info:\n        parts.extend(other_info)\n\n    if parts:\n        sentence = \", \".join(parts) + \".\"\n        # Attempt to combine related information for more complex sentences\n        if len(parts) > 2:\n            combined_sentence = \"\"\n            for i in range(len(parts)):\n                combined_sentence += parts[i]\n                if i < len(parts) - 1:\n                    if \"located in\" in parts[i] and \"serves the city of\" in parts[i+1]:\n                        combined_sentence += \", which \"\n                    elif \"elevation\" in parts[i] and \"runway\" in parts[i+1]:\n                        combined_sentence += \" and \"\n                    elif \"runway\" in parts[i] and (\"is operated by\" in parts[i+1] or \"has IATA code\" in parts[i+1]):\n                        combined_sentence += \", and \"\n                    else:\n                        combined_sentence += \", \"\n            sentence = combined_sentence + \".\"\n\n    return sentence\n\n# EVOLVE-BLOCK-END", "language": "python", "parent_id": "66afd45a-e0f3-4b4a-be32-c216f2a33967", "generation": 12, "timestamp": 1770023460.5198827, "iteration_found": 744, "metrics": {"combined_score": 0.4017059969822013, "avg_bleu_score": 0.4017059969822013, "avg_meteor_score": 0.7061053535290163, "avg_sentences_length_score": 0.8789266490314663}, "complexity": 0.0, "diversity": 0.0, "metadata": {"changes": "Change 1: Replace 4 lines with 4 lines", "parent_metrics": {"combined_score": 0.40204300642274454, "avg_bleu_score": 0.40204300642274454, "avg_meteor_score": 0.7046922301999041, "avg_sentences_length_score": 0.8789266490314663}, "island": 1}, "prompts": {"diff_user": {"system": "You are an expert in fixing your collegues code. You know that the code should be in format:\n<<<<<<< SEARCH\n# Original code to find and replace (must match exactly, indentations and endlines as well)\n=======\n# New replacement code\n>>>>>>> REPLACE\nProvided the incorrect format of SEARCH/REPLACE fix it to a correct format.\n        ", "user": "An incorrect diff format was detected in this change:\n```diff\n<<<<<<< SEARCH\n        elif \"runway\" in parts[i] and (\"is operated by\" in parts[i+1] or \"has IATA code\" in parts[i+1]):\n            combined_sentence += \", \"\n        else:\n            combined_sentence += \", \"\n>>>>>>> REPLACE\n        elif \"runway\" in parts[i] and (\"is operated by\" in parts[i+1] or \"has IATA code\" in parts[i+1]):\n            combined_sentence += \", and \"\n        else:\n            combined_sentence += \", \"\n```\nPlease fix it to the correct format.", "responses": ["```diff\n<<<<<<< SEARCH\n        elif \"runway\" in parts[i] and (\"is operated by\" in parts[i+1] or \"has IATA code\" in parts[i+1]):\n            combined_sentence += \", \"\n        else:\n            combined_sentence += \", \"\n=======\n        elif \"runway\" in parts[i] and (\"is operated by\" in parts[i+1] or \"has IATA code\" in parts[i+1]):\n            combined_sentence += \", and \"\n        else:\n            combined_sentence += \", \"\n>>>>>>> REPLACE\n```"]}}, "artifacts_json": "{\"poor_program_score_45\": \"The program did very poorly with the given triples, getting BLEU score 0.0. The input triples were:\\nAndrews County Airport | runwayName | \\\"16/34\\\"\\n\\nThe generated text was:\\nAndrews County Airport has a runway named \\\"16/34\\\".\\n\\nThe example correct sentences are:\\nAndrews County Airport's runway name is 16/34.\\n16/34 is the runway name of Andrews County Airport.\\n\", \"poor_program_score_117\": \"The program did very poorly with the given triples, getting BLEU score 0.0. The input triples were:\\nAgra Airport | operatingOrganisation | Indian Air Force\\nAgra Airport | icaoLocationIdentifier | \\\"VIAG\\\"\\nAgra Airport | location | Agra\\n\\nThe generated text was:\\nAgra Airport is located in Agra, Agra Airport is operated by Indian Air Force, Agra Airport icaoLocationIdentifier \\\"VIAG\\\".\\n\\nThe example correct sentences are:\\nThe ICAO Location Identifier of Agra Airport is VIAG and the airport in Agra is operated by the Indian Air Force.\\nAgra airport is located inAgra and its location identifier is VIAG. The Indian Air Force operate this airport.\\nThe operating organization for agra airports is the indian air force, with the identifier VIAG, located in Agra.\\n\", \"poor_program_score_119\": \"The program did very poorly with the given triples, getting BLEU score 0.0. The input triples were:\\nAmsterdam Airport Schiphol | cityServed | Amsterdam\\nAmsterdam Airport Schiphol | runwayLength | 3800.0\\nAmsterdam Airport Schiphol | elevationAboveTheSeaLevel | -3.3528\\n\\nThe generated text was:\\nAmsterdam Airport Schiphol serves the city of Amsterdam, Amsterdam Airport Schiphol is -3.3528 meters above sea level, Amsterdam Airport Schiphol has a runway length of 3800.0 meters.\\n\\nThe example correct sentences are:\\nAmsterdam is served by the Schiphol airport which is -3.3528 metres above sea level. The runway length is 3800.\\n\"}", "artifact_dir": null, "embedding": null}